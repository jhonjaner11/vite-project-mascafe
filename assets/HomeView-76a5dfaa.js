import{_ as B}from"./_plugin-vue_export-helper-c27b6911.js";import{r as l,o as _,c as P,w as e,a as t,d as u,m as E,g as a,e as V,F as I,f as L,t as c}from"./index-6421abcc.js";const z={data:()=>({drawer:!1,group:null,products:[{id:1,name:"Empanada de pollo",precio:3e3},{id:2,name:"papas",precio:2700},{id:3,name:"Coca cola",precio:2e3}],producto_registro:"",venta:{producto_id:"",producto_nombre:"",producto_precio:0,cantidad:0,total:0},factura:[],range:[1,100],Cantidad:"",itemsPerPage:10,headers:[{title:"Nombre",align:"start",sortable:!1,key:"producto_nombre"},{title:"Cantidad",align:"end",key:"cantidad"},{title:"Precio Unidad",align:"end",key:"producto_precio"},{title:"Total",align:"end",key:"total"}]}),watch:{group(){this.drawer=!1}},methods:{submit(){console.log(this.venta)},crearVentaProducto(){console.log("CON"),console.log(producto_registro)},LlenarRegistro(o){console.log("LlenaR"),console.log(o),console.log(this.producto_registro)},agregarProductoFactura(){console.log("agregando:"),console.log(this.venta),this.factura.push(this.venta),this.venta={producto_id:"",producto_nombre:"",producto_precio:0,cantidad:0,total:0},console.log(this.factura)}},computed:{labelCantidadTotal:function(){return this.producto_registro.precio?"Precio unidad: $"+this.producto_registro.precio:""},precioProductoTotal:function(){this.venta.cantidad=parseInt(this.venta.cantidad);let o=parseInt(this.producto_registro.precio)*parseInt(this.venta.cantidad);return this.venta.total=o,this.venta.producto_precio=this.producto_registro.precio,this.venta.producto_id=this.producto_registro.id,this.venta.producto_nombre=this.producto_registro.name,o},totalFactura:function(){let o=0;return this.factura.forEach(n=>{o+=n.total}),o}}},S=a("thead",null,[a("tr",null,[a("th",{class:"text-left"}," Nombre "),a("th",{class:"text-left"}," Cant "),a("th",{class:"text-left"}," Precio U. "),a("th",{class:"text-left"}," Total ")])],-1),$=a("td",null,null,-1),j=a("td",null,null,-1),q=a("td",null,"Total",-1);function A(o,n,k,H,O,s){const w=l("v-toolbar-title"),x=l("v-toolbar"),p=l("v-container"),y=l("v-list-item"),C=l("v-autocomplete"),i=l("v-col"),m=l("v-text-field"),v=l("v-btn"),T=l("v-row"),F=l("v-card-text"),g=l("v-icon"),N=l("v-table"),R=l("v-card-actions"),U=l("v-card");return _(),P(p,{"grid-list-xs":""},{default:e(()=>[t(U,null,{default:e(()=>[t(x,{flat:"",color:"blue-grey",dark:""},{default:e(()=>[t(w,null,{default:e(()=>[u(" Registrar Venta")]),_:1})]),_:1}),t(p,{"grid-list-xs":""}),t(F,null,{default:e(()=>[t(p,null,{default:e(()=>[t(T,null,{default:e(()=>[t(i,{cols:"12",sm:"12",xs:"12",md:"12",lg:"4"},{default:e(()=>[t(C,{label:"Producto",items:o.products,"item-title":"name",modelValue:o.producto_registro,"onUpdate:modelValue":n[0]||(n[0]=r=>o.producto_registro=r),"return-object":"",clearable:""},{item:e(({props:r,item:d})=>{var f,h,b;return[t(y,E(r,{"prepend-avatar":(f=d==null?void 0:d.raw)==null?void 0:f.avatar,title:(h=d==null?void 0:d.raw)==null?void 0:h.name,subtitle:(b=d==null?void 0:d.raw)==null?void 0:b.precio}),null,16,["prepend-avatar","title","subtitle"])]}),_:1},8,["items","modelValue"])]),_:1}),t(i,{cols:"5",sm:"4",xs:"4",md:"12",lg:"4"},{default:e(()=>[t(m,{label:"Cantidad","model-value":o.range[0],rules:[()=>!!o.venta.cantidad||"This field is required"],modelValue:o.venta.cantidad,"onUpdate:modelValue":n[1]||(n[1]=r=>o.venta.cantidad=r),ref:"venta.cantidad",min:"1",type:"number"},null,8,["model-value","rules","modelValue"])]),_:1}),t(i,{cols:"7",sm:"12",xs:"12",md:"4",lg:"4"},{default:e(()=>[t(m,{label:s.labelCantidadTotal,readonly:"",modelValue:o.venta.total,"onUpdate:modelValue":n[2]||(n[2]=r=>o.venta.total=r),value:s.precioProductoTotal,ref:"venta.cantidad"},null,8,["label","modelValue","value"])]),_:1}),t(i,{cols:"12",sm:"12",xs:"12",md:"4",lg:"4"},{default:e(()=>[t(v,{color:"success",onclick:s.agregarProductoFactura},{default:e(()=>[u("Agregar")]),_:1},8,["onclick"])]),_:1})]),_:1})]),_:1})]),_:1}),t(N,null,{default:e(()=>[S,a("tbody",null,[(_(!0),V(I,null,L(o.factura,r=>(_(),V("tr",{key:r.producto_nombre},[a("td",null,c(r.producto_nombre),1),a("td",null,c(r.cantidad),1),a("td",null,c(r.producto_precio),1),a("td",null,[u(c(r.total)+" ",1),t(g,{size:"small",icon:"mdi-pencil"}),t(g,{size:"small",color:"red",icon:"mdi-delete"})])]))),128)),a("tr",null,[$,j,q,a("td",null,c(s.totalFactura),1)])])]),_:1}),t(R,null,{default:e(()=>[t(v,{color:"success","prepend-icon":"mdi-archive",variant:"tonal",class:"mx-auto"},{default:e(()=>[u("Registrar")]),_:1})]),_:1})]),_:1})]),_:1})}const D=B(z,[["render",A]]),K={__name:"HomeView",setup(o){return(n,k)=>(_(),P(D))}};export{K as default};
